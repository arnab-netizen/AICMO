[pytest]
testpaths = tests backend/tests
addopts = -v --tb=short

filterwarnings =
    error::DeprecationWarning

markers =
    e2e: tests that require external services (Temporal/Postgres/etc.)
    integration: integration tests that may require LLM keys or external services
    stress: heavy stress tests running 20+ iterations per pack (slow, expensive)
    slow: tests with long runtime (>1 minute)

env =
    DB_URL = postgresql://neondb_owner:npg_bfJUR40NaHAP@ep-sweet-hat-ad3o70vb-pooler.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

    DATABASE_URL = postgresql://neondb_owner:npg_bfJUR40NaHAP@ep-sweet-hat-ad3o70vb-pooler.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

